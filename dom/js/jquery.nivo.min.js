!function(e){var t=function(t,i){var a=e.extend({},e.fn.nivoSlider.defaults,i),n={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1},r=e(t);r.data("nivo:vars",n).addClass("nivoSlider");var o=r.children();o.each(function(){var t=e(this),i="";t.is("img")||(t.is("a")&&(t.addClass("nivo-imageLink"),i=t),t=t.find("img:first"));var a=0===a?t.attr("width"):t.width(),r=0===r?t.attr("height"):t.height();""!==i&&i.css("display","none"),t.css("display","none"),n.totalSlides++}),a.randomStart&&(a.startSlide=Math.floor(Math.random()*n.totalSlides)),a.startSlide>0&&(a.startSlide>=n.totalSlides&&(a.startSlide=n.totalSlides-1),n.currentSlide=a.startSlide),n.currentImage=e(o[n.currentSlide]).is("img")?e(o[n.currentSlide]):e(o[n.currentSlide]).find("img:first"),e(o[n.currentSlide]).is("a")&&e(o[n.currentSlide]).css("display","block");var s=e("<img/>").addClass("nivo-main-image");s.attr("src",n.currentImage.attr("src")).show(),r.append(s),e(window).resize(function(){r.children("img").width(r.width()),s.attr("src",n.currentImage.attr("src")),s.stop().height("auto"),e(".nivo-slice").remove(),e(".nivo-box").remove()}),r.append(e('<div class="nivo-caption"></div>'));var l=function(t){var i=e(".nivo-caption",r);if(""!=n.currentImage.attr("title")&&void 0!=n.currentImage.attr("title")){var a=n.currentImage.attr("title");"#"==a.substr(0,1)&&(a=e(a).html()),"block"==i.css("display")?setTimeout(function(){i.html(a)},t.animSpeed):(i.html(a),i.stop().fadeIn(t.animSpeed))}else i.stop().fadeOut(t.animSpeed)};l(a);var d=0;if(!a.manualAdvance&&o.length>1&&(d=setInterval(function(){h(r,o,a,!1)},a.pauseTime)),a.directionNav&&(r.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+a.prevText+'</a><a class="nivo-nextNav">'+a.nextText+"</a></div>"),e(r).on("click","a.nivo-prevNav",function(){return n.running?!1:(clearInterval(d),d="",n.currentSlide-=2,void h(r,o,a,"prev"))}),e(r).on("click","a.nivo-nextNav",function(){return n.running?!1:(clearInterval(d),d="",void h(r,o,a,"next"))})),a.controlNav){n.controlNavEl=e('<div class="nivo-controlNav"></div>'),r.after(n.controlNavEl);for(var c=0;c<o.length;c++)if(a.controlNavThumbs){n.controlNavEl.addClass("nivo-thumbs-enabled");var u=o.eq(c);u.is("img")||(u=u.find("img:first")),u.attr("data-thumb")&&n.controlNavEl.append('<a class="nivo-control" rel="'+c+'"><img src="'+u.attr("data-thumb")+'" alt="" /></a>')}else n.controlNavEl.append('<a class="nivo-control" rel="'+c+'">'+(c+1)+"</a>");e("a:eq("+n.currentSlide+")",n.controlNavEl).addClass("active"),e("a",n.controlNavEl).bind("click",function(){return n.running?!1:e(this).hasClass("active")?!1:(clearInterval(d),d="",s.attr("src",n.currentImage.attr("src")),n.currentSlide=e(this).attr("rel")-1,void h(r,o,a,"control"))})}a.pauseOnHover&&r.hover(function(){n.paused=!0,clearInterval(d),d=""},function(){n.paused=!1,""!==d||a.manualAdvance||(d=setInterval(function(){h(r,o,a,!1)},a.pauseTime))}),r.bind("nivo:animFinished",function(){s.attr("src",n.currentImage.attr("src")),n.running=!1,e(o).each(function(){e(this).is("a")&&e(this).css("display","none")}),e(o[n.currentSlide]).is("a")&&e(o[n.currentSlide]).css("display","block"),""!==d||n.paused||a.manualAdvance||(d=setInterval(function(){h(r,o,a,!1)},a.pauseTime)),a.afterChange.call(this)});var f=function(t,i,a){e(a.currentImage).parent().is("a")&&e(a.currentImage).parent().css("display","block"),e('img[src="'+a.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show();for(var n=e('img[src="'+a.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().is("a")?e('img[src="'+a.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().height():e('img[src="'+a.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height(),r=0;r<i.slices;r++){var o=Math.round(t.width()/i.slices);t.append(r===i.slices-1?e('<div class="nivo-slice" name="'+r+'"><img src="'+a.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+r*o-o)+'px;" /></div>').css({left:o*r+"px",width:t.width()-o*r+"px",height:n+"px",opacity:"0",overflow:"hidden"}):e('<div class="nivo-slice" name="'+r+'"><img src="'+a.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+r*o-o)+'px;" /></div>').css({left:o*r+"px",width:o+"px",height:n+"px",opacity:"0",overflow:"hidden"}))}e(".nivo-slice",t).height(n),s.stop().animate({height:e(a.currentImage).height()},i.animSpeed)},p=function(t,i,a){e(a.currentImage).parent().is("a")&&e(a.currentImage).parent().css("display","block"),e('img[src="'+a.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show();for(var n=Math.round(t.width()/i.boxCols),r=Math.round(e('img[src="'+a.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height()/i.boxRows),o=0;o<i.boxRows;o++)for(var l=0;l<i.boxCols;l++)l===i.boxCols-1?(t.append(e('<div class="nivo-box" name="'+l+'" rel="'+o+'"><img src="'+a.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+r*o+"px; left:-"+n*l+'px;" /></div>').css({opacity:0,left:n*l+"px",top:r*o+"px",width:t.width()-n*l+"px"})),e('.nivo-box[name="'+l+'"]',t).height(e('.nivo-box[name="'+l+'"] img',t).height()+"px")):(t.append(e('<div class="nivo-box" name="'+l+'" rel="'+o+'"><img src="'+a.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+r*o+"px; left:-"+n*l+'px;" /></div>').css({opacity:0,left:n*l+"px",top:r*o+"px",width:n+"px"})),e('.nivo-box[name="'+l+'"]',t).height(e('.nivo-box[name="'+l+'"] img',t).height()+"px"));s.stop().animate({height:e(a.currentImage).height()},i.animSpeed)},h=function(t,i,a,n){var r=t.data("nivo:vars");if(r&&r.currentSlide===r.totalSlides-1&&a.lastSlide.call(this),(!r||r.stop)&&!n)return!1;a.beforeChange.call(this),n?("prev"===n&&s.attr("src",r.currentImage.attr("src")),"next"===n&&s.attr("src",r.currentImage.attr("src"))):s.attr("src",r.currentImage.attr("src")),r.currentSlide++,r.currentSlide===r.totalSlides&&(r.currentSlide=0,a.slideshowEnd.call(this)),r.currentSlide<0&&(r.currentSlide=r.totalSlides-1),r.currentImage=e(i[r.currentSlide]).is("img")?e(i[r.currentSlide]):e(i[r.currentSlide]).find("img:first"),a.controlNav&&(e("a",r.controlNavEl).removeClass("active"),e("a:eq("+r.currentSlide+")",r.controlNavEl).addClass("active")),l(a),e(".nivo-slice",t).remove(),e(".nivo-box",t).remove();var o=a.effect,d="";"random"===a.effect&&(d=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"),o=d[Math.floor(Math.random()*(d.length+1))],void 0===o&&(o="fade")),-1!==a.effect.indexOf(",")&&(d=a.effect.split(","),o=d[Math.floor(Math.random()*d.length)],void 0===o&&(o="fade")),r.currentImage.attr("data-transition")&&(o=r.currentImage.attr("data-transition")),r.running=!0;var c=0,u=0,h="",v="",g="",y="";if("sliceDown"===o||"sliceDownRight"===o||"sliceDownLeft"===o)f(t,a,r),c=0,u=0,h=e(".nivo-slice",t),"sliceDownLeft"===o&&(h=e(".nivo-slice",t)._reverse()),h.each(function(){var i=e(this);i.css({top:"0px"}),u===a.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},a.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){i.animate({opacity:"1.0"},a.animSpeed)},100+c),c+=50,u++});else if("sliceUp"===o||"sliceUpRight"===o||"sliceUpLeft"===o)f(t,a,r),c=0,u=0,h=e(".nivo-slice",t),"sliceUpLeft"===o&&(h=e(".nivo-slice",t)._reverse()),h.each(function(){var i=e(this);i.css({bottom:"0px"}),u===a.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},a.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){i.animate({opacity:"1.0"},a.animSpeed)},100+c),c+=50,u++});else if("sliceUpDown"===o||"sliceUpDownRight"===o||"sliceUpDownLeft"===o){f(t,a,r),c=0,u=0;var b=0;h=e(".nivo-slice",t),"sliceUpDownLeft"===o&&(h=e(".nivo-slice",t)._reverse()),h.each(function(){var i=e(this);0===u?(i.css("top","0px"),u++):(i.css("bottom","0px"),u=0),b===a.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},a.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){i.animate({opacity:"1.0"},a.animSpeed)},100+c),c+=50,b++})}else if("fold"===o)f(t,a,r),c=0,u=0,e(".nivo-slice",t).each(function(){var i=e(this),n=i.width();i.css({top:"0px",width:"0px"}),u===a.slices-1?setTimeout(function(){i.animate({width:n,opacity:"1.0"},a.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){i.animate({width:n,opacity:"1.0"},a.animSpeed)},100+c),c+=50,u++});else if("fade"===o)f(t,a,r),v=e(".nivo-slice:first",t),v.css({width:t.width()+"px"}),v.animate({opacity:"1.0"},2*a.animSpeed,"",function(){t.trigger("nivo:animFinished")});else if("slideInRight"===o)f(t,a,r),v=e(".nivo-slice:first",t),v.css({width:"0px",opacity:"1"}),v.animate({width:t.width()+"px"},2*a.animSpeed,"",function(){t.trigger("nivo:animFinished")});else if("slideInLeft"===o)f(t,a,r),v=e(".nivo-slice:first",t),v.css({width:"0px",opacity:"1",left:"",right:"0px"}),v.animate({width:t.width()+"px"},2*a.animSpeed,"",function(){v.css({left:"0px",right:""}),t.trigger("nivo:animFinished")});else if("boxRandom"===o)p(t,a,r),g=a.boxCols*a.boxRows,u=0,c=0,y=m(e(".nivo-box",t)),y.each(function(){var i=e(this);u===g-1?setTimeout(function(){i.animate({opacity:"1"},a.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){i.animate({opacity:"1"},a.animSpeed)},100+c),c+=20,u++});else if("boxRain"===o||"boxRainReverse"===o||"boxRainGrow"===o||"boxRainGrowReverse"===o){p(t,a,r),g=a.boxCols*a.boxRows,u=0,c=0;var w=0,C=0,x=[];x[w]=[],y=e(".nivo-box",t),("boxRainReverse"===o||"boxRainGrowReverse"===o)&&(y=e(".nivo-box",t)._reverse()),y.each(function(){x[w][C]=e(this),C++,C===a.boxCols&&(w++,C=0,x[w]=[])});for(var S=0;S<2*a.boxCols;S++){for(var E=S,k=0;k<a.boxRows;k++)E>=0&&E<a.boxCols&&(!function(i,n,r,s,l){var d=e(x[i][n]),c=d.width(),u=d.height();("boxRainGrow"===o||"boxRainGrowReverse"===o)&&d.width(0).height(0),s===l-1?setTimeout(function(){d.animate({opacity:"1",width:c,height:u},a.animSpeed/1.3,"",function(){t.trigger("nivo:animFinished")})},100+r):setTimeout(function(){d.animate({opacity:"1",width:c,height:u},a.animSpeed/1.3)},100+r)}(k,E,c,u,g),u++),E--;c+=100}}},m=function(e){for(var t,i,a=e.length;a;t=parseInt(Math.random()*a,10),i=e[--a],e[a]=e[t],e[t]=i);return e},v=function(e){this.console&&"undefined"!=typeof console.log&&console.log(e)};return this.stop=function(){e(t).data("nivo:vars").stop||(e(t).data("nivo:vars").stop=!0,v("Stop Slider"))},this.start=function(){e(t).data("nivo:vars").stop&&(e(t).data("nivo:vars").stop=!1,v("Start Slider"))},a.afterLoad.call(this),this};e.fn.nivoSlider=function(i){return this.each(function(){var r=e(this);if(r.data("nivoslider"))return r.data("nivoslider");var o=new t(this,i);r.data("nivoslider",o)})},e.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,controlNav:!0,controlNavThumbs:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}},e.fn._reverse=[].reverse}(jQuery);
